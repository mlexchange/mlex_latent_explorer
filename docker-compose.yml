version: "3"

services:

  front-end:
    restart: "unless-stopped"
    container_name: "latentxp"
    build:
      context: "."
      dockerfile: "docker/Dockerfile"
    mem_limit: 2g
    environment:
      DATA_DIR: "${DATA_DIR}"
      PREFECT_TAGS: "${PREFECT_TAGS}"
      PREFECT_API_URL: '${PREFECT_API_URL}'
      CONTENT_API_URL: '${CONTENT_API_URL}'
      FLOW_NAME: '${FLOW_NAME}'
      TIMEZONE: "${TIMEZONE}"
      USER: "${USER}"
    volumes:
      - $DATA_DIR:/app/work/data
      - ./src:/app/work/src
    ports:
      - "127.0.0.1:8070:8070"
    networks:
      mlex_mle_net:

networks:
  mlex_mle_net:
    external: true
